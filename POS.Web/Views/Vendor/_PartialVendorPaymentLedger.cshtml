@using POS.Utilities.ReportsModel
@model IEnumerable<VenderPaymentLedgerViewModel>
@{
    Layout = null;
}

<script src="~/Scripts/Site.js"></script>


@{
    if (Model != null && Model.Count() > 0)
    {

        <div class="row">
            <div class="col-12">
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Vendor Payment Ledger Report</h3>
                    </div>
                    <!-- /.card-header -->
                    <div class="card-body table-responsive">
                        <table class="table table-sm table-hover table-striped text-nowrap">
                            <thead>
                                <tr>
                                    <th>Narration</th>
                                    <th>Transaction Date</th>
                                    <th>Total Net Balance</th>
                                    <th>Total Payment</th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var e in Model)
                                {
                                    <tr>
                                        <td>@e.Narration</td>
                                        <td>@e.TransactionDate.ToString("dddd, dd-MMM-yyyy")</td>
                                        <td>@Convert.ToDecimal(e.TotalNetBalance).ToString("#,##0.00") </td>
                                        <td>@Convert.ToDecimal(e.TotalPayment).ToString("#,##0.00") </td>
                                    </tr>
                                }
                            </tbody>
                            <tfoot>
                                <tr>
                                    <td colspan="2"></td>
                                    <td>
                                        @{

                                            var netBalance = Model.Sum(p => p.TotalNetBalance);
                                            @Convert.ToDecimal(netBalance).ToString("#,##0.00")
                                        }
                                    </td>
                                    <td>
                                        @{

                                            var totalPayment = Model.Sum(p => p.TotalPayment);
                                            @Convert.ToDecimal(totalPayment).ToString("#,##0.00")
                                        }
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="2"></td>
                                    <td></td>
                                    <td>
                                        @{
                                            var remaining = Model.Sum(p => p.RemainingBalance);
                                        }
                                        <h6> Remaining Balance : @Convert.ToDecimal(remaining).ToString("#,##0.00") </h6>
                                    </td>
                                </tr>
                            </tfoot>
                        </table>
                    </div>


                </div>
                <!-- /.card -->
            </div>
        </div>
    }
}





